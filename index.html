<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duro Galván - Página Oficial</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Grand+Paradiso&display=swap" rel="stylesheet">
    <style>
        :root {
            --white: #ffffff;
            --black: #000000;
            --dark-red: #800020;
            --light-gray: #f5f5f5;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Grand Paradiso', serif;
            color: var(--black);
            background-color: var(--white);
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }
        
        h1 {
            font-size: 3rem;
        }
        
        h2 {
            font-size: 2.5rem;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header */
        header {
            background-color: var(--black);
            color: var(--white);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            color: var(--white);
            text-decoration: none;
        }
        
        .logo span {
            color: var(--dark-red);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            color: var(--white);
            text-decoration: none;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            transition: color 0.3s;
        }
        
        nav ul li a:hover {
            color: var(--dark-red);
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: var(--white);
            text-align: center;
            padding: 8rem 0;
        }
        
        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--dark-red);
            color: var(--white);
            padding: 0.8rem 1.5rem;
            text-decoration: none;
            border: none;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #600018;
        }
        
        .btn-secondary {
            background-color: transparent;
            border: 2px solid var(--dark-red);
            color: var(--dark-red);
        }
        
        .btn-secondary:hover {
            background-color: var(--dark-red);
            color: var(--white);
        }
        
        /* Sections */
        section {
            padding: 5rem 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background-color: var(--dark-red);
            margin: 10px auto;
        }
        
        /* Conciertos */
        .concerts {
            background-color: var(--light-gray);
        }
        
        .concert-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .concert-item {
            background-color: var(--white);
            padding: 1.5rem;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .concert-date {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            color: var(--dark-red);
            margin-bottom: 0.5rem;
        }
        
        .concert-location {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        /* Música */
        .music-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .music-widget {
            background-color: var(--light-gray);
            padding: 1.5rem;
            border-radius: 5px;
            text-align: center;
        }
        
        .music-widget iframe {
            width: 100%;
            max-width: 100%;
            border-radius: 5px;
        }
        
        /* Tienda */
        .shop {
            background-color: var(--light-gray);
        }
        
        .products {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
        }
        
        .product {
            text-align: center;
            background-color: var(--white);
            padding: 2rem;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .product:hover {
            transform: translateY(-5px);
        }
        
        .product-image {
            width: 100%;
            max-width: 300px;
            height: 300px;
            background-color: var(--white);
            margin: 0 auto 1rem;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
        }
        
        .white-shirt {
            background-color: var(--white);
            color: var(--black);
        }
        
        .black-shirt {
            background-color: var(--black);
            color: var(--white);
        }
        
        .sizes {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 1rem 0;
        }
        
        .size {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--black);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .size.selected {
            background-color: var(--dark-red);
            color: var(--white);
            border-color: var(--dark-red);
        }
        
        .size.sold-out {
            background-color: #ccc;
            color: #999;
            cursor: not-allowed;
        }
        
        .stock-info {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #666;
        }
        
        /* Formulario de reserva */
        .reservation-form {
            background-color: var(--white);
            padding: 2rem;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Grand Paradiso', serif;
        }
        
        .payment-method {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .payment-option {
            flex: 1;
            text-align: center;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-option.selected {
            border-color: var(--dark-red);
            background-color: rgba(128, 0, 32, 0.05);
        }
        
        .iban-info {
            background-color: var(--light-gray);
            padding: 1rem;
            border-radius: 4px;
            margin-top: 1rem;
            display: none;
        }
        
        .iban-info.show {
            display: block;
        }
        
        /* Contacto */
        .contact-info {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .social-link {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: var(--black);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        
        .social-link:hover {
            background-color: var(--dark-red);
        }
        
        /* Footer */
        footer {
            background-color: var(--black);
            color: var(--white);
            text-align: center;
            padding: 2rem 0;
        }
        
        /* Páginas de producto */
        .product-page {
            padding: 5rem 0;
            background-color: var(--white);
        }
        
        .product-detail {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-top: 2rem;
        }
        
        /* Carrusel de imágenes */
        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .carousel {
            display: flex;
            transition: transform 0.5s ease;
        }
        
        .carousel-slide {
            min-width: 100%;
        }
        
        .carousel-slide img {
            width: 100%;
            display: block;
        }
        
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .carousel-btn:hover {
            background-color: rgba(0,0,0,0.8);
        }
        
        .carousel-prev {
            left: 15px;
        }
        
        .carousel-next {
            right: 15px;
        }
        
        .carousel-dots {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
            gap: 10px;
        }
        
        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ddd;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .carousel-dot.active {
            background-color: var(--dark-red);
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 2rem;
            color: var(--dark-red);
            text-decoration: none;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
            }
            
            nav ul {
                margin-top: 1rem;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .music-container,
            .products,
            .product-detail {
                grid-template-columns: 1fr;
            }
            
            .payment-method {
                flex-direction: column;
            }
            
            .carousel-btn {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo">DURO <span>GALVÁN</span></a>
            <nav>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#conciertos">Conciertos</a></li>
                    <li><a href="#musica">Música</a></li>
                    <li><a href="#tienda">Tienda</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="container">
            <h1>DURO GALVÁN</h1>
            <p>La energía del rock en estado puro. Disfruta de nuestra música y consigue el merchandising oficial de la banda.</p>
            <a href="#tienda" class="btn">Reserva tu camiseta</a>
        </div>
    </section>

    <!-- Próximos Conciertos -->
    <section class="concerts" id="conciertos">
        <div class="container">
            <h2 class="section-title">Próximos Conciertos</h2>
            <div class="concert-list">
                <div class="concert-item">
                    <div class="concert-date">15 JUNIO 2023</div>
                    <div class="concert-location">Sala Caracol, Madrid</div>
                    <p>Con nuestro nuevo repertorio y sorpresas especiales.</p>
                </div>
                <div class="concert-item">
                    <div class="concert-date">22 JULIO 2023</div>
                    <div class="concert-location">Festival Rock&Roll, Barcelona</div>
                    <p>Participación en el festival más importante del verano.</p>
                </div>
                <div class="concert-item">
                    <div class="concert-date">5 AGOSTO 2023</div>
                    <div class="concert-location">Sala La Riviera, Madrid</div>
                    <p>Noche especial con invitados sorpresa.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Nuestra Música -->
    <section id="musica">
        <div class="container">
            <h2 class="section-title">Nuestra Música</h2>
            <div class="music-container">
                <div class="music-widget">
                    <h3>Escúchanos en Spotify</h3>
                    <iframe src="https://open.spotify.com/embed/artist/2wuECTDTaNfOplWgzem2pQ?utm_source=generator" height="352" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
                <div class="music-widget">
                    <h3>Nuestros vídeos en YouTube</h3>
                    <iframe width="100%" height="315" src="https://www.youtube.com/embed/videoseries?list=UU..." title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Tienda -->
    <section class="shop" id="tienda">
        <div class="container">
            <h2 class="section-title">Merchandising Oficial</h2>
            <p style="text-align: center; margin-bottom: 2rem;">Reserva ahora tu camiseta oficial de Duro Galván. Stock limitado.</p>
            
            <div class="products">
                <div class="product">
                    <div class="product-image white-shirt">DG</div>
                    <h3>Camiseta Blanca</h3>
                    <p>Precio: 15€</p>
                    <div class="sizes">
                        <div class="size" data-size="S" data-product="white">S</div>
                        <div class="size" data-size="M" data-product="white">M</div>
                        <div class="size" data-size="L" data-product="white">L</div>
                        <div class="size" data-size="XL" data-product="white">XL</div>
                    </div>
                    <div class="stock-info" id="white-stock">
                        <!-- Stock information will be displayed here -->
                    </div>
                    <a href="#camiseta-blanca" class="btn" style="margin-top: 1rem;">Ver detalles y reservar</a>
                </div>
                
                <div class="product">
                    <div class="product-image black-shirt">DG</div>
                    <h3>Camiseta Negra</h3>
                    <p>Precio: 15€</p>
                    <div class="sizes">
                        <div class="size" data-size="S" data-product="black">S</div>
                        <div class="size" data-size="M" data-product="black">M</div>
                        <div class="size" data-size="L" data-product="black">L</div>
                        <div class="size" data-size="XL" data-product="black">XL</div>
                    </div>
                    <div class="stock-info" id="black-stock">
                        <!-- Stock information will be displayed here -->
                    </div>
                    <a href="#camiseta-negra" class="btn" style="margin-top: 1rem;">Ver detalles y reservar</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Página de Camiseta Blanca -->
    <section id="camiseta-blanca" class="product-page" style="display: none;">
        <div class="container">
            <a href="#tienda" class="back-link">← Volver a la tienda</a>
            
            <div class="product-detail">
                <div class="product-gallery">
                    <div class="carousel-container">
                        <div class="carousel" id="carousel-white">
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/600x600/FFFFFF/000000?text=Camiseta+Blanca+1" alt="Camiseta Blanca - Vista frontal">
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/600x600/FFFFFF/000000?text=Camiseta+Blanca+2" alt="Camiseta Blanca - Vista trasera">
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/600x600/FFFFFF/000000?text=Camiseta+Blanca+3" alt="Camiseta Blanca - Detalle del logo">
                            </div>
                        </div>
                        <button class="carousel-btn carousel-prev" data-carousel="white">&#10094;</button>
                        <button class="carousel-btn carousel-next" data-carousel="white">&#10095;</button>
                    </div>
                    <div class="carousel-dots" id="carousel-dots-white">
                        <!-- Los puntos se generarán automáticamente con JavaScript -->
                    </div>
                </div>
                
                <div class="product-info">
                    <h2>Camiseta Blanca</h2>
                    <p>Precio: 15€</p>
                    <p>Camiseta de algodón 100% con el logo de Duro Galván impreso en serigrafía de alta calidad. Disponible en varias tallas.</p>
                    
                    <div class="form-group">
                        <label>Talla:</label>
                        <div class="sizes">
                            <div class="size" data-size="S" data-product="white">S</div>
                            <div class="size" data-size="M" data-product="white">M</div>
                            <div class="size" data-size="L" data-product="white">L</div>
                            <div class="size" data-size="XL" data-product="white">XL</div>
                        </div>
                        <div class="stock-info" id="white-stock-detail">
                            <!-- Stock information will be displayed here -->
                        </div>
                    </div>
                    
                    <form class="reservation-form" id="reservation-form-white">
                        <div class="form-group">
                            <label for="name-white">Nombre completo</label>
                            <input type="text" id="name-white" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email-white">Email</label>
                            <input type="email" id="email-white" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone-white">Teléfono</label>
                            <input type="tel" id="phone-white" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Producto seleccionado</label>
                            <div id="selected-product-white">Camiseta Blanca - Por favor, selecciona una talla</div>
                        </div>
                        
                        <div class="form-group">
                            <label>Método de pago</label>
                            <div class="payment-method">
                                <div class="payment-option" data-payment="transfer">
                                    <div>Transferencia</div>
                                    <small>(15€ ahora)</small>
                                </div>
                                <div class="payment-option" data-payment="cash">
                                    <div>En mano</div>
                                    <small>(al recoger)</small>
                                </div>
                            </div>
                            
                            <div class="iban-info" id="iban-info-white">
                                <p>Realiza una transferencia de 15€ al siguiente IBAN:</p>
                                <p><strong>ES91 1583 0001 1290 2592 8758</strong></p>
                                <p>A nombre de: Antonio Fernández Batanero</p>
                                <p>Una vez realizada, envíanos el comprobante a durogalvanband@gmail.com</p>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="notes-white">Observaciones (opcional)</label>
                            <textarea id="notes-white" name="notes" rows="3"></textarea>
                        </div>
                        
                        <button type="submit" class="btn" style="width: 100%;">Reservar ahora</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Página de Camiseta Negra -->
    <section id="camiseta-negra" class="product-page" style="display: none;">
        <div class="container">
            <a href="#tienda" class="back-link">← Volver a la tienda</a>
            
            <div class="product-detail">
                <div class="product-gallery">
                    <div class="carousel-container">
                        <div class="carousel" id="carousel-black">
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/600x600/000000/FFFFFF?text=Camiseta+Negra+1" alt="Camiseta Negra - Vista frontal">
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/600x600/000000/FFFFFF?text=Camiseta+Negra+2" alt="Camiseta Negra - Vista trasera">
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/600x600/000000/FFFFFF?text=Camiseta+Negra+3" alt="Camiseta Negra - Detalle del logo">
                            </div>
                        </div>
                        <button class="carousel-btn carousel-prev" data-carousel="black">&#10094;</button>
                        <button class="carousel-btn carousel-next" data-carousel="black">&#10095;</button>
                    </div>
                    <div class="carousel-dots" id="carousel-dots-black">
                        <!-- Los puntos se generarán automáticamente con JavaScript -->
                    </div>
                </div>
                
                <div class="product-info">
                    <h2>Camiseta Negra</h2>
                    <p>Precio: 15€</p>
                    <p>Camiseta de algodón 100% con el logo de Duro Galván impreso en serigrafía de alta calidad. Disponible en varias tallas.</p>
                    
                    <div class="form-group">
                        <label>Talla:</label>
                        <div class="sizes">
                            <div class="size" data-size="S" data-product="black">S</div>
                            <div class="size" data-size="M" data-product="black">M</div>
                            <div class="size" data-size="L" data-product="black">L</div>
                            <div class="size" data-size="XL" data-product="black">XL</div>
                        </div>
                        <div class="stock-info" id="black-stock-detail">
                            <!-- Stock information will be displayed here -->
                        </div>
                    </div>
                    
                    <form class="reservation-form" id="reservation-form-black">
                        <div class="form-group">
                            <label for="name-black">Nombre completo</label>
                            <input type="text" id="name-black" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email-black">Email</label>
                            <input type="email" id="email-black" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone-black">Teléfono</label>
                            <input type="tel" id="phone-black" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Producto seleccionado</label>
                            <div id="selected-product-black">Camiseta Negra - Por favor, selecciona una talla</div>
                        </div>
                        
                        <div class="form-group">
                            <label>Método de pago</label>
                            <div class="payment-method">
                                <div class="payment-option" data-payment="transfer">
                                    <div>Transferencia</div>
                                    <small>(15€ ahora)</small>
                                </div>
                                <div class="payment-option" data-payment="cash">
                                    <div>En mano</div>
                                    <small>(al recoger)</small>
                                </div>
                            </div>
                            
                            <div class="iban-info" id="iban-info-black">
                                <p>Realiza una transferencia de 15€ al siguiente IBAN:</p>
                                <p><strong>ES91 1583 0001 1290 2592 8758</strong></p>
                                <p>A nombre de: Antonio Fernández Batanero</p>
                                <p>Una vez realizada, envíanos el comprobante a durogalvanband@gmail.com</p>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="notes-black">Observaciones (opcional)</label>
                            <textarea id="notes-black" name="notes" rows="3"></textarea>
                        </div>
                        
                        <button type="submit" class="btn" style="width: 100%;">Reservar ahora</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Contacto -->
    <section id="contacto">
        <div class="container">
            <h2 class="section-title">Contacto</h2>
            <div class="contact-info">
                <p>¿Tienes alguna pregunta? ¡No dudes en contactarnos!</p>
                <p>Email: <a href="mailto:durogalvanband@gmail.com">durogalvanband@gmail.com</a></p>
                <div class="social-links">
                    <a href="https://instagram.com/durogalvan" class="social-link" target="_blank">IG</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2023 Duro Galván. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // Stock data from the provided table
        const stock = {
            white: {
                S: 5,
                M: 30,
                L: 41,
                XL: 21
            },
            black: {
                S: 5,
                M: 30,
                L: 41,
                XL: 21
            }
        };

        // Initialize stock display
        function initializeStock() {
            // Update white shirt stock info in main page
            const whiteStockElement = document.getElementById('white-stock');
            let whiteStockText = 'Disponible: ';
            for (const size in stock.white) {
                whiteStockText += `${size}: ${stock.white[size]} | `;
            }
            whiteStockElement.textContent = whiteStockText.slice(0, -3);

            // Update black shirt stock info in main page
            const blackStockElement = document.getElementById('black-stock');
            let blackStockText = 'Disponible: ';
            for (const size in stock.black) {
                blackStockText += `${size}: ${stock.black[size]} | `;
            }
            blackStockElement.textContent = blackStockText.slice(0, -3);

            // Update white shirt stock info in detail page
            const whiteStockDetailElement = document.getElementById('white-stock-detail');
            if (whiteStockDetailElement) {
                whiteStockDetailElement.textContent = whiteStockText.slice(0, -3);
            }

            // Update black shirt stock info in detail page
            const blackStockDetailElement = document.getElementById('black-stock-detail');
            if (blackStockDetailElement) {
                blackStockDetailElement.textContent = blackStockText.slice(0, -3);
            }

            // Mark sold out sizes
            markSoldOutSizes('white');
            markSoldOutSizes('black');
        }

        // Mark sold out sizes
        function markSoldOutSizes(product) {
            const sizes = document.querySelectorAll(`.size[data-product="${product}"]`);
            sizes.forEach(sizeElement => {
                const size = sizeElement.getAttribute('data-size');
                if (stock[product][size] <= 0) {
                    sizeElement.classList.add('sold-out');
                    sizeElement.textContent = `${size} (Agotado)`;
                }
            });
        }

        // Handle size selection
        document.querySelectorAll('.size').forEach(sizeElement => {
            sizeElement.addEventListener('click', function() {
                if (this.classList.contains('sold-out')) return;
                
                // Remove selected class from all sizes of the same product
                const product = this.getAttribute('data-product');
                document.querySelectorAll(`.size[data-product="${product}"]`).forEach(el => {
                    el.classList.remove('selected');
                });
                
                // Add selected class to clicked size
                this.classList.add('selected');
                
                // Update selected product display
                const size = this.getAttribute('data-size');
                const productName = product === 'white' ? 'Camiseta Blanca' : 'Camiseta Negra';
                
                // Update in main form
                const selectedProductElement = document.getElementById('selected-product');
                if (selectedProductElement) {
                    selectedProductElement.textContent = `${productName} - Talla ${size}`;
                }
                
                // Update in white product page
                const selectedProductWhiteElement = document.getElementById('selected-product-white');
                if (selectedProductWhiteElement) {
                    selectedProductWhiteElement.textContent = `${productName} - Talla ${size}`;
                }
                
                // Update in black product page
                const selectedProductBlackElement = document.getElementById('selected-product-black');
                if (selectedProductBlackElement) {
                    selectedProductBlackElement.textContent = `${productName} - Talla ${size}`;
                }
            });
        });

        // Handle payment method selection
        document.querySelectorAll('.payment-option').forEach(option => {
            option.addEventListener('click', function() {
                // Remove selected class from all payment options
                document.querySelectorAll('.payment-option').forEach(el => {
                    el.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                this.classList.add('selected');
                
                // Show/hide IBAN info based on selection
                const paymentMethod = this.getAttribute('data-payment');
                const form = this.closest('form');
                const ibanInfo = form ? form.querySelector('.iban-info') : document.getElementById('iban-info');
                if (paymentMethod === 'transfer') {
                    ibanInfo.classList.add('show');
                } else {
                    ibanInfo.classList.remove('show');
                }
            });
        });

        // Handle form submission for main form
        document.getElementById('reservation-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            handleReservationFormSubmit(this, 'white');
        });

        // Handle form submission for white product page
        document.getElementById('reservation-form-white')?.addEventListener('submit', function(e) {
            e.preventDefault();
            handleReservationFormSubmit(this, 'white');
        });

        // Handle form submission for black product page
        document.getElementById('reservation-form-black')?.addEventListener('submit', function(e) {
            e.preventDefault();
            handleReservationFormSubmit(this, 'black');
        });

        // Generic function to handle form submission
        function handleReservationFormSubmit(form, defaultProduct) {
            // Get selected product and size
            const selectedSize = form.querySelector('.size.selected');
            if (!selectedSize) {
                alert('Por favor, selecciona una talla de camiseta');
                return;
            }
            
            const product = selectedSize.getAttribute('data-product') || defaultProduct;
            const size = selectedSize.getAttribute('data-size');
            
            // Check if selected size is available
            if (stock[product][size] <= 0) {
                alert('Lo sentimos, esta talla ya no está disponible');
                return;
            }
            
            // Get payment method
            const selectedPayment = form.querySelector('.payment-option.selected');
            if (!selectedPayment) {
                alert('Por favor, selecciona un método de pago');
                return;
            }
            
            const paymentMethod = selectedPayment.getAttribute('data-payment');
            
            // Get form data
            const nameInput = form.querySelector('input[type="text"]');
            const emailInput = form.querySelector('input[type="email"]');
            const phoneInput = form.querySelector('input[type="tel"]');
            const notesInput = form.querySelector('textarea');
            
            const formData = {
                name: nameInput.value,
                email: emailInput.value,
                phone: phoneInput.value,
                product: product === 'white' ? 'Camiseta Blanca' : 'Camiseta Negra',
                size: size,
                payment: paymentMethod === 'transfer' ? 'Transferencia' : 'En mano',
                notes: notesInput ? notesInput.value : '',
                timestamp: new Date().toISOString()
            };
            
            // URL de tu Google Apps Script (con tu ID específico)
            const scriptUrl = 'https://script.google.com/macros/s/AKfycbySuEqwHvIVTAM4TcGJ0EgQdJ6X0Z0MVeCe9EFd8-yqnM_8NBgmVwss_l0oXs7LTCKU/exec';
            
            // Mostrar indicador de carga
            const submitButton = form.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            submitButton.textContent = 'Procesando reserva...';
            submitButton.disabled = true;
            
            // Enviar datos a Google Apps Script
            fetch(scriptUrl, {
                method: 'POST',
                body: JSON.stringify(formData),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error de red: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                if (data.success) {
                    alert('¡Reserva realizada con éxito! Te hemos enviado un email de confirmación. ID de reserva: ' + data.reservationId);
                    
                    // Actualizar stock localmente
                    stock[product][size]--;
                    initializeStock();
                    
                    // Reset form
                    form.reset();
                    form.querySelectorAll('.size.selected').forEach(el => {
                        el.classList.remove('selected');
                    });
                    form.querySelectorAll('.payment-option.selected').forEach(el => {
                        el.classList.remove('selected');
                    });
                    const ibanInfo = form.querySelector('.iban-info');
                    if (ibanInfo) {
                        ibanInfo.classList.remove('show');
                    }
                    
                    // Reset selected product display
                    const selectedProductElement = form.querySelector('#selected-product, #selected-product-white, #selected-product-black');
                    if (selectedProductElement) {
                        const productName = product === 'white' ? 'Camiseta Blanca' : 'Camiseta Negra';
                        selectedProductElement.textContent = `${productName} - Por favor, selecciona una talla`;
                    }
                    
                    // If we're on a product page, redirect to main shop after successful reservation
                    if (form.id.includes('white') || form.id.includes('black')) {
                        setTimeout(() => {
                            window.location.href = '#tienda';
                            showSection('tienda');
                        }, 2000);
                    }
                } else {
                    alert('Error al procesar la reserva: ' + data.error);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Hubo un error al procesar la reserva. Por favor, inténtalo de nuevo o contacta con nosotros directamente en durogalvanband@gmail.com.');
            })
            .finally(() => {
                // Restaurar el botón
                submitButton.textContent = originalText;
                submitButton.disabled = false;
            });
        }

        // Carrusel functionality
        function initializeCarousel(carouselId, dotsContainerId) {
            const carousel = document.getElementById(carouselId);
            const slides = carousel.querySelectorAll('.carousel-slide');
            const dotsContainer = document.getElementById(dotsContainerId);
            const productType = carouselId.split('-')[1]; // 'white' or 'black'
            
            let currentSlide = 0;
            
            // Create dots
            slides.forEach((_, index) => {
                const dot = document.createElement('button');
                dot.classList.add('carousel-dot');
                if (index === 0) dot.classList.add('active');
                dot.addEventListener('click', () => {
                    goToSlide(index);
                });
                dotsContainer.appendChild(dot);
            });
            
            // Function to go to specific slide
            function goToSlide(slideIndex) {
                currentSlide = slideIndex;
                carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // Update dots
                dotsContainer.querySelectorAll('.carousel-dot').forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }
            
            // Auto-advance slides every 5 seconds
            let slideInterval = setInterval(() => {
                nextSlide();
            }, 5000);
            
            // Next slide function
            function nextSlide() {
                currentSlide = (currentSlide + 1) % slides.length;
                goToSlide(currentSlide);
            }
            
            // Previous slide function
            function prevSlide() {
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                goToSlide(currentSlide);
            }
            
            // Add event listeners for carousel buttons
            document.querySelectorAll(`[data-carousel="${productType}"]`).forEach(button => {
                button.addEventListener('click', () => {
                    if (button.classList.contains('carousel-next')) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                    
                    // Reset auto-advance timer
                    clearInterval(slideInterval);
                    slideInterval = setInterval(() => {
                        nextSlide();
                    }, 5000);
                });
            });
            
            // Pause auto-advance on hover
            carousel.parentElement.addEventListener('mouseenter', () => {
                clearInterval(slideInterval);
            });
            
            carousel.parentElement.addEventListener('mouseleave', () => {
                clearInterval(slideInterval);
                slideInterval = setInterval(() => {
                    nextSlide();
                }, 5000);
            });
        }
        
        // Navigation between sections
        function showSection(sectionId) {
            // Hide all product pages and show main sections
            document.querySelectorAll('.product-page').forEach(page => {
                page.style.display = 'none';
            });
            
            document.querySelectorAll('section:not(.product-page)').forEach(section => {
                section.style.display = 'block';
            });
            
            // If a product page is requested, show it and hide main sections
            if (sectionId === 'camiseta-blanca' || sectionId === 'camiseta-negra') {
                document.querySelectorAll('section:not(.product-page)').forEach(section => {
                    section.style.display = 'none';
                });
                
                document.getElementById(sectionId).style.display = 'block';
                
                // Initialize carousel for the product page
                if (sectionId === 'camiseta-blanca') {
                    initializeCarousel('carousel-white', 'carousel-dots-white');
                } else {
                    initializeCarousel('carousel-black', 'carousel-dots-black');
                }
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        // Handle hash changes for navigation
        window.addEventListener('hashchange', function() {
            const sectionId = window.location.hash.substring(1);
            showSection(sectionId);
        });
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            initializeStock();
            
            // Show appropriate section based on initial hash
            const initialSection = window.location.hash.substring(1) || 'inicio';
            showSection(initialSection);
        });
    </script>
</body>
</html>
